import { useState } from 'react'\nimport { api } from '@/utils/api'\nimport type { PingResponse } from '@/types/api'\n\nexport function DevPing() {\n  const [pingResult, setPingResult] = useState<PingResponse | null>(null)\n  const [errorResult, setErrorResult] = useState<any>(null)\n  const [loading, setLoading] = useState(false)\n  const [errorLoading, setErrorLoading] = useState(false)\n\n  const handlePing = async () => {\n    try {\n      setLoading(true)\n      setPingResult(null)\n      const result = await api.devPing()\n      setPingResult(result)\n    } catch (err) {\n      console.error('Ping failed:', err)\n      setPingResult(null)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleError = async () => {\n    try {\n      setErrorLoading(true)\n      setErrorResult(null)\n      await api.devError()\n    } catch (err) {\n      // This is expected - we're testing error handling\n      setErrorResult({\n        error: err instanceof Error ? err.message : 'Unknown error',\n        timestamp: new Date().toISOString()\n      })\n    } finally {\n      setErrorLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-4 mb-4\">\n            <a\n              href=\"/\"\n              className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors text-sm\"\n            >\n              β† ν™μΌλ΅\n            </a>\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n              κ°λ° λ„κµ¬\n            </h1>\n          </div>\n          <p className=\"text-gray-600\">\n            API κ°λ° μ—”λ“ν¬μΈνΈλ¥Ό ν…μ¤νΈν•  μ μμµλ‹λ‹¤.\n          </p>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n          <div className=\"border rounded-lg p-6 bg-white\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">Ping ν…μ¤νΈ</h2>\n              <span className=\"text-2xl\">π“</span>\n            </div>\n            <p className=\"text-gray-600 text-sm mb-4\">\n              /api/dev/ping μ—”λ“ν¬μΈνΈλ¥Ό νΈμ¶ν•μ—¬ μ„λ²„ μ‘λ‹µμ„ ν™•μΈν•©λ‹λ‹¤.\n            </p>\n            <button\n              onClick={handlePing}\n              disabled={loading}\n              className=\"w-full py-3 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 rounded transition-colors font-medium\"\n            >\n              {loading ? 'Ping μ „μ†΅ μ¤‘...' : 'Ping μ „μ†΅'}\n            </button>\n          </div>\n\n          <div className=\"border rounded-lg p-6 bg-white\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">μ—λ¬ ν…μ¤νΈ</h2>\n              <span className=\"text-2xl\">π’¥</span>\n            </div>\n            <p className=\"text-gray-600 text-sm mb-4\">\n              /api/dev/error μ—”λ“ν¬μΈνΈλ΅ μλ„μ  500 μ—λ¬λ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.\n            </p>\n            <button\n              onClick={handleError}\n              disabled={errorLoading}\n              className=\"w-full py-3 bg-red-100 hover:bg-red-200 disabled:bg-gray-100 rounded transition-colors font-medium\"\n            >\n              {errorLoading ? 'μ—λ¬ λ°μƒ μ¤‘...' : 'μ—λ¬ λ°μƒ ν…μ¤νΈ'}\n            </button>\n          </div>\n        </div>\n\n        {/* Results */}\n        <div className=\"space-y-6\">\n          {/* Ping Result */}\n          {pingResult && (\n            <div className=\"border rounded-lg p-6 bg-green-50 border-green-200\">\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\n                <span className=\"text-green-600 mr-2\">β…</span>\n                Ping μ‘λ‹µ μ„±κ³µ\n              </h3>\n              <div className=\"bg-white rounded p-4 border\">\n                <pre className=\"text-sm overflow-x-auto text-gray-800\">\n                  {JSON.stringify(pingResult, null, 2)}\n                </pre>\n              </div>\n              <div className=\"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span className=\"font-medium text-gray-700\">Request ID:</span>\n                  <span className=\"ml-2 font-mono text-blue-600\">{pingResult.request_id}</span>\n                </div>\n                <div>\n                  <span className=\"font-medium text-gray-700\">ν™κ²½:</span>\n                  <span className=\"ml-2 font-medium\">{pingResult.environment}</span>\n                </div>\n                <div>\n                  <span className=\"font-medium text-gray-700\">ν΄λΌμ΄μ–ΈνΈ IP:</span>\n                  <span className=\"ml-2 font-mono\">{pingResult.client_ip}</span>\n                </div>\n                <div>\n                  <span className=\"font-medium text-gray-700\">λ²„μ „:</span>\n                  <span className=\"ml-2 font-mono\">{pingResult.version}</span>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Error Result */}\n          {errorResult && (\n            <div className=\"border rounded-lg p-6 bg-red-50 border-red-200\">\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\n                <span className=\"text-red-600 mr-2\">β</span>\n                μ—λ¬ μ‘λ‹µ (μλ„λ λ™μ‘)\n              </h3>\n              <div className=\"bg-white rounded p-4 border\">\n                <pre className=\"text-sm overflow-x-auto text-gray-800\">\n                  {JSON.stringify(errorResult, null, 2)}\n                </pre>\n              </div>\n              <div className=\"mt-4 text-sm text-gray-600\">\n                <p>\n                  <strong>μ„¤λ…:</strong> μ΄κ²ƒμ€ μλ„μ μΌλ΅ λ°μƒμ‹ν‚¨ 500 μ—λ¬μ…λ‹λ‹¤. \n                  μ—λ¬ ν•Έλ“¤λ§μ΄ μ¬λ°”λ¥΄κ² μ‘λ™ν•λ”μ§€ ν™•μΈν•λ” μ©λ„μ…λ‹λ‹¤.\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Info Panel */}\n        <div className=\"mt-8 border rounded-lg p-6 bg-blue-50 border-blue-200\">\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">β„ΉοΈ κ°λ° λ„κµ¬ μ •λ³΄</h3>\n          <div className=\"space-y-2 text-sm\">\n            <p>\n              <strong>Ping μ—”λ“ν¬μΈνΈ:</strong> μ„λ²„ μƒνƒμ™€ μ”μ²­ μ •λ³΄λ¥Ό λ°ν™ν•©λ‹λ‹¤. \n              Request-ID μ¶”μ , ν΄λΌμ΄μ–ΈνΈ IP κ°μ§€ λ“±μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.\n            </p>\n            <p>\n              <strong>μ—λ¬ μ—”λ“ν¬μΈνΈ:</strong> μλ„μ μΌλ΅ 500 μ—λ¬λ¥Ό λ°μƒμ‹μΌ \n              μ „μ—­ μ—λ¬ ν•Έλ“¤λ¬μ™€ λ΅κΉ… μ‹μ¤ν…μ„ ν…μ¤νΈν•©λ‹λ‹¤.\n            </p>\n            <p className=\"pt-2 border-t text-gray-600\">\n              <strong>μ°Έκ³ :</strong> μ΄ λ„κµ¬λ“¤μ€ κ°λ° ν™κ²½μ—μ„λ§ μ‚¬μ© κ°€λ¥ν•λ©°, \n              ν”„λ΅λ•μ…μ—μ„λ” λΉ„ν™μ„±ν™”λ©λ‹λ‹¤.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"