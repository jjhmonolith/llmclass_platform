# π λ§¥λ―Έλ‹μ—μ„ λ‹¤μ¤‘ μ„λΉ„μ¤ μ΄μ κ°€μ΄λ“

## π“‹ ν„μ¬ μƒν™© μ •λ¦¬
β… **socratic.llmclass.org** β†’ λ§¥λ―Έλ‹:8000 (μ†ν¬λΌν…μ¤ AI μ„λΉ„μ¤)  
β… Cloudflare Tunnelμ„ ν†µν• μ™Έλ¶€ μ ‘μ† μ„±κ³µ  
β… κ³µμΈ IP, ν¬νΈν¬μ›λ”© μ—†μ΄ μ΄μ μ¤‘

---

## π— Cloudflare Tunnel λ™μ‘ μ›λ¦¬ (μ‰¬μ΄ μ„¤λ…)

### π” κΈ°μ΅΄ λ°©μ‹ (λ³µμ΅ν•¨)
```
μ™Έλ¶€ μ‚¬μ©μ β†’ κ³µμΈ IP β†’ κ³µμ κΈ° ν¬νΈν¬μ›λ”© β†’ λ§¥λ―Έλ‹
```
**λ¬Έμ μ **: κ³µμΈ IP ν•„μ”, ν¬νΈν¬μ›λ”© μ„¤μ •, λ³΄μ• μ·¨μ•½

### βοΈ Cloudflare Tunnel λ°©μ‹ (κ°„λ‹¨ν•¨)
```
μ™Έλ¶€ μ‚¬μ©μ β†’ cloudflare.com β†’ ν„°λ„ β†’ λ§¥λ―Έλ‹
```

#### π”„ λ™μ‘ κ³Όμ •:
1. **λ§¥λ―Έλ‹μ—μ„ ν„°λ„ μƒμ„±**: `cloudflared`κ°€ Cloudflare μ„λ²„μ— μ—°κ²°
2. **μ™Έλ¶€ μ‚¬μ©μ μ ‘μ†**: `socratic.llmclass.org` μ ‘μ†
3. **Cloudflareκ°€ μ¤‘κ³„**: μ”μ²­μ„ λ§¥λ―Έλ‹λ΅ μ „λ‹¬
4. **λ§¥λ―Έλ‹κ°€ μ‘λ‹µ**: κ²°κ³Όλ¥Ό λ‹¤μ‹ Cloudflareλ¥Ό ν†µν•΄ μ „λ‹¬

#### π― ν•µμ‹¬ μ¥μ :
- β… **κ³µμΈ IP λ¶ν•„μ”**
- β… **ν¬νΈν¬μ›λ”© λ¶ν•„μ”**
- β… **μλ™ SSL μΈμ¦μ„**
- β… **DDoS λ³΄νΈ**
- β… **λ¬΄λ£**

---

## π€ λ‹¤μ¤‘ μ„λΉ„μ¤ ν™•μ¥ λ°©λ²•

### π“ λ°©λ²• 1: μ„λ΅ λ‹¤λ¥Έ ν¬νΈ μ‚¬μ© (μ¶”μ²)

#### ν„μ¬ κµ¬μ΅°:
```
socratic.llmclass.org β†’ λ§¥λ―Έλ‹:8000 (μ†ν¬λΌν…μ¤ AI)
```

#### ν™•μ¥ ν›„ κµ¬μ΅°:
```
socratic.llmclass.org  β†’ λ§¥λ―Έλ‹:8000 (μ†ν¬λΌν…μ¤ AI)
math.llmclass.org      β†’ λ§¥λ―Έλ‹:8001 (μν•™ νν„°)
english.llmclass.org   β†’ λ§¥λ―Έλ‹:8002 (μμ–΄ νν„°)
science.llmclass.org   β†’ λ§¥λ―Έλ‹:8003 (κ³Όν•™ νν„°)
admin.llmclass.org     β†’ λ§¥λ―Έλ‹:8004 (κ΄€λ¦¬ λ€μ‹λ³΄λ“)
```

#### π”§ μ„¤μ • λ°©λ²•:

**1λ‹¨κ³„: κ° μ„λΉ„μ¤λ³„ ν¬νΈ ν• λ‹Ή**
- μ„λΉ„μ¤ 1: 8000λ² ν¬νΈ
- μ„λΉ„μ¤ 2: 8001λ² ν¬νΈ  
- μ„λΉ„μ¤ 3: 8002λ² ν¬νΈ
- ...

**2λ‹¨κ³„: Cloudflare Tunnel μ„¤μ • νμΌ μμ •**
```yaml
# /Users/jjh_server/.cloudflared/config.yml
tunnel: a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9
credentials-file: /Users/jjh_server/.cloudflared/a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9.json

ingress:
  - hostname: socratic.llmclass.org
    service: http://localhost:8000
  - hostname: math.llmclass.org  
    service: http://localhost:8001
  - hostname: english.llmclass.org
    service: http://localhost:8002
  - hostname: science.llmclass.org
    service: http://localhost:8003
  - hostname: admin.llmclass.org
    service: http://localhost:8004
  - service: http_status:404
```

**3λ‹¨κ³„: Cloudflare DNSμ— κ° μ„λΈλ„λ©”μΈ μ¶”κ°€**
κ°κ°μ— λ€ν•΄ CNAME λ μ½”λ“ μƒμ„±:
- **Name**: math, **Target**: `a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9.cfargotunnel.com`
- **Name**: english, **Target**: `a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9.cfargotunnel.com`
- **Name**: science, **Target**: `a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9.cfargotunnel.com`
- **Name**: admin, **Target**: `a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9.cfargotunnel.com`

---

### π“ λ°©λ²• 2: κ²½λ΅ κΈ°λ° λΌμ°ν…

#### κµ¬μ΅°:
```
llmclass.org/socratic  β†’ λ§¥λ―Έλ‹:8000
llmclass.org/math      β†’ λ§¥λ―Έλ‹:8001  
llmclass.org/english   β†’ λ§¥λ―Έλ‹:8002
llmclass.org/science   β†’ λ§¥λ―Έλ‹:8003
```

**μ¥μ **: λ„λ©”μΈ ν•λ‚λ΅ λ¨λ“  μ„λΉ„μ¤ κ΄€λ¦¬  
**λ‹¨μ **: κ° μ„λΉ„μ¤κ°€ κ²½λ΅λ¥Ό μ§€μ›ν•΄μ•Ό ν•¨

---

## π›  μ‹¤μ  ν™•μ¥ μ‹λ‚λ¦¬μ¤

### π“ μ‹λ‚λ¦¬μ¤: μν•™ νν„° μ„λΉ„μ¤ μ¶”κ°€

#### 1λ‹¨κ³„: μƒ μ„λΉ„μ¤ μ¤€λΉ„
```bash
# μƒλ΅μ΄ λ””λ ‰ν† λ¦¬ μƒμ„±
mkdir /Users/jjh_server/llmclass_platform/math_tutor
cd /Users/jjh_server/llmclass_platform/math_tutor

# μν•™ νν„° μ½”λ“ μ‘μ„± (ν¬νΈ 8001 μ‚¬μ©)
```

#### 2λ‹¨κ³„: Tunnel μ„¤μ • μμ •
```yaml
ingress:
  - hostname: socratic.llmclass.org
    service: http://localhost:8000
  - hostname: math.llmclass.org      # μƒλ΅ μ¶”κ°€
    service: http://localhost:8001   # μƒλ΅μ΄ ν¬νΈ
  - service: http_status:404
```

#### 3λ‹¨κ³„: DNS λ μ½”λ“ μ¶”κ°€
Cloudflare λ€μ‹λ³΄λ“μ—μ„:
- **Type**: CNAME
- **Name**: math
- **Target**: `a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9.cfargotunnel.com`

#### 4λ‹¨κ³„: μ„λΉ„μ¤ μ‹μ‘
```bash
# ν„°λ―Έλ„ 1: μ†ν¬λΌν…μ¤ μ„λΉ„μ¤
cd /Users/jjh_server/llmclass_platform/llm_classroom_proto4/backend
python3 main.py

# ν„°λ―Έλ„ 2: μν•™ νν„° μ„λΉ„μ¤  
cd /Users/jjh_server/llmclass_platform/math_tutor
python3 main.py

# ν„°λ―Έλ„ 3: Cloudflare Tunnel
cloudflared tunnel run a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9
```

---

## π― κ΄€λ¦¬ ν¨μ¨μ„±μ„ μ„ν• ν

### π“‹ ν¬νΈ κ΄€λ¦¬ κ·μΉ™
```
8000-8099: AI νν„° μ„λΉ„μ¤
8100-8199: κ΄€λ¦¬ λ„κµ¬
8200-8299: API μ„λΉ„μ¤
8300-8399: μ‹¤ν—μ  μ„λΉ„μ¤
```

### π€ μλ™ν™” μ¤ν¬λ¦½νΈ μμ‹
```bash
#!/bin/bash
# all_services.sh

echo "π€ λ¨λ“  μ„λΉ„μ¤ μ‹μ‘ μ¤‘..."

# κ° μ„λΉ„μ¤λ¥Ό λ°±κ·ΈλΌμ΄λ“λ΅ μ‹¤ν–‰
cd /path/to/socratic && python3 main.py &
cd /path/to/math && python3 main.py &  
cd /path/to/english && python3 main.py &

# Cloudflare Tunnel μ‹μ‘
cloudflared tunnel run a2f0f49b-254f-4c76-a6bb-a6aa266dd3d9 &

echo "β… λ¨λ“  μ„λΉ„μ¤κ°€ μ‹μ‘λμ—μµλ‹λ‹¤!"
```

### π“ μ„λΉ„μ¤ λ¨λ‹ν„°λ§
```bash
# μ‹¤ν–‰ μ¤‘μΈ μ„λΉ„μ¤ ν™•μΈ
lsof -i :8000  # μ†ν¬λΌν…μ¤
lsof -i :8001  # μν•™ νν„°
lsof -i :8002  # μμ–΄ νν„°

# λ¨λ“  8000λ²λ€ ν¬νΈ ν™•μΈ  
lsof -i :8000-8099
```

---

## π’΅ ν™•μ¥μ„± κ³ λ ¤μ‚¬ν•­

### π”‹ λ§¥λ―Έλ‹ μ„±λ¥ ν•κ³„
- **CPU/λ©”λ¨λ¦¬**: λ™μ‹ μ‹¤ν–‰ κ°€λ¥ν• μ„λΉ„μ¤ μ μ ν•
- **κ¶μ¥**: μµλ€ 5-10κ° μ„λΉ„μ¤

### π λ„¤νΈμ›ν¬ λ€μ—­ν­
- **μ—…λ΅λ“ μ†λ„**: λ™μ‹ μ‚¬μ©μ μ μ ν•
- **λ¨λ‹ν„°λ§**: Cloudflare λ€μ‹λ³΄λ“μ—μ„ νΈλν”½ ν™•μΈ

### π“± μ„λΉ„μ¤λ³„ λ…λ¦½μ„±
- **μ¥μ **: ν• μ„λΉ„μ¤ μ¤λ¥κ°€ λ‹¤λ¥Έ μ„λΉ„μ¤μ— μν–¥ μ—†μ
- **κ΄€λ¦¬**: κ° μ„λΉ„μ¤λ³„ λ΅κ·Έ, μ—λ¬ μ¶”μ  ν•„μ”

---

## π‰ κ²°λ΅ 

**ν•µμ‹¬ ν¬μΈνΈ:**
1. **ν•λ‚μ Tunnel**λ΅ **λ¬΄μ ν• μ„λΈλ„λ©”μΈ** μ§€μ›
2. **ν¬νΈλ§ λ‹¤λ¥΄κ²** ν•λ©΄ **μƒ μ„λΉ„μ¤ μ‰½κ² μ¶”κ°€**
3. **DNS μ„¤μ • ν• λ²**μΌλ΅ **μ¦‰μ‹ μ™Έλ¶€ μ ‘μ†** κ°€λ¥
4. **κ³µμΈ IP μ—†μ΄λ„** **μ „λ¬Έμ μΈ μ„λΉ„μ¤** μ΄μ κ°€λ¥

μ΄μ  μ›ν•λ” λ§νΌ AI μ„λΉ„μ¤λ¥Ό μ¶”κ°€ν•μ—¬ **κ°μΈ AI ν”λ«νΌ**μ„ κµ¬μ¶•ν•  μ μμµλ‹λ‹¤!

---

*π“ μ¶”κ°€ μ§λ¬Έμ΄λ‚ νΉμ • μ„λΉ„μ¤ ν™•μ¥μ΄ ν•„μ”ν•μ‹λ©΄ μ–Έμ λ“  λ§μ”€ν•΄μ£Όμ„Έμ”.*